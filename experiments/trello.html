<!DOCTYPE html>
<html>
<head>
  <title></title>
<meta charset="utf-8">
<style type="text/css">

</style>
<script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
<script src="https://api.trello.com/1/client.js?key=c8d8300ea38877d8335d511a01c246d7"></script>

<script type="text/javascript"> //<![CDATA[

$(window).load(function() {
  var appKey = "c8d8300ea38877d8335d511a01c246d7";

  function load_js() {
    var head = document.getElementsByTagName('head')[0];
    var script = document.createElement('script');
    script.type = 'text/javascript';
    script.src = "https://api.trello.com/1/client.js?key=" + appKey;
    head.appendChild(script);
  }

  //load_js();

  var authenticationSuccess = function () {
    console.log("Successful authentication");
  };
  var authenticationFailure = function () {
    console.log("Failed authentication");
  };
  var getSuccess = function () {
    console.log("Successful get");
  };
  var getFailure = function () {
    console.log("Failed get");
  };

  Trello.authorize({
    type: "popup",
    name: "Getting Started Application",
    scope: {
      read: true,
      write: true
    },
    expiration: "never",
    success: authenticationSuccess,
    error: authenticationFailure
  });

  var $cards = $("<div>")
      .text("Loading Cards...")
      .appendTo("#output");

  Trello.get('/members/me/boards', function (lists) {

    $.each(lists, function (ix, list) {
      console.log(list);
    });
  });

  Trello.get('/boards/555c8e81e8d5aff570505f5b/lists', function (cards) {
    console.log("Getting cards");

    $cards.empty();
    $.each(cards, function (ix, card) {
      $("<a>")
          .attr({href: card.url, target: "trello"})
          .addClass("card")
          .text(card.name)
          .appendTo($cards);
    });
    console.log(cards);

  }, getFailure);

  console.log("done");
});
//]]>
</script>
</head>
<body>

<div id="output"></div>

</body>
</html>